# ‚úÖ –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ - –£–∫—Ä–∞—ó–Ω—Å—å–∫–µ —Ä–µ–∑—é–º–µ

## üéØ –û—Å–Ω–æ–≤–Ω—ñ –ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –á—Ö –í–∏—Ä—ñ—à–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –Ω–µ –≤–∏–¥–Ω–æ –Ω–∞ —Å–∞–π—Ç—ñ
**–ü—Ä–∏—á–∏–Ω–∞**: –°–∏–º—É–ª—è—Ü—ñ—è –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å –≤ —Ä–µ–∂–∏–º—ñ –ø–∞—É–∑–∏, –∞ –Ω–∞ —Å–∞–π—Ç—ñ –Ω–µ –±—É–ª–æ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É  

**–í–∏—Ä—ñ—à–µ–Ω–Ω—è**:
- ‚úÖ –î–æ–¥–∞–≤ –∫–Ω–æ–ø–∫—É "‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç–∏" –Ω–∞ –≤–µ–±-—Å–∞–π—Ç
- ‚úÖ –î–æ–¥–∞–≤ –∫–Ω–æ–ø–∫—É "‚è∏ –ó—É–ø–∏–Ω–∏—Ç–∏" –Ω–∞ –≤–µ–±-—Å–∞–π—Ç  
- ‚úÖ –î–æ–¥–∞–≤ API endpoint –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–∏–º—É–ª—è—Ü—ñ—î—é
- ‚úÖ –î–æ–¥–∞–≤ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Å—Ç–∞—Ç—É—Å—É –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- ‚úÖ –¢–µ–ø–µ—Ä –ø—Ä–∏ –Ω–∞—Ç–∏—Å–Ω–µ–Ω–Ω—ñ "–ó–∞–ø—É—Å—Ç–∏—Ç–∏" - —Å–∏–º—É–ª—è—Ü—ñ—è –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —ñ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Ä—É—Ö–∞—î—Ç—å—Å—è
- ‚úÖ –í–∏–¥–Ω–æ –Ω–∞ –∫–∞—Ä—Ç—ñ üöå üöä üöé

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ª–∞–≥–∞—î (–ø–æ–≤—ñ–ª—å–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
**–ü—Ä–∏—á–∏–Ω–∞**: –ß–∞—Å—Ç–∏–π polling (–∫–æ–∂–Ω—ñ 10 —Å–µ–∫ –Ω–∞ –≤–µ–±—ñ) –±–µ–∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó, –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ desktop'—ñ

**–í–∏—Ä—ñ—à–µ–Ω–Ω—è**:

**–í–µ–±-—Å–∞–π—Ç**:
- ‚úÖ –ó–º–µ–Ω—à–∏–≤ polling –∑ 10 —Å–µ–∫ ‚Üí 2 —Å–µ–∫ (5x —à–≤–∏–¥—à–µ!)
- ‚úÖ –î–æ–¥–∞–≤ throttling - –º—ñ–Ω—ñ–º—É–º 1 —Å–µ–∫ –º—ñ–∂ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ —Å–∏–º—É–ª—è—Ü—ñ—è –∑–∞–ø—É—â–µ–Ω–∞
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω—ñ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏

**–ë–µ–∫–µ–Ω–¥ (C++)**:
- ‚úÖ –í–∏–¥–∞–ª–∏–≤ –±–ª–æ–∫—É—é—á—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- ‚úÖ –û–ø—Ç–∏–º—ñ–∑—É–≤–∞–≤ OPTIONS –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- ‚úÖ –î–æ–¥–∞–≤ Cache-Control –∑–∞–≥–æ–ª–æ–≤–∫–∏

**–î–µ—Å–∫—Ç–æ–ø –∫–ª—ñ—î–Ω—Ç**:
- ‚úÖ –ü–∞—Ä–∞–ª–µ–ª—å–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ–≥–æ
- ‚úÖ –ó–º–µ–Ω—à–∏–≤ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –∑ 15 —Å–µ–∫ ‚Üí 5 —Å–µ–∫ (3x —à–≤–∏–¥—à–µ!)
- ‚úÖ –ó–º–µ–Ω—à–∏–≤ polling –∑ 2 —Å–µ–∫ ‚Üí 1 —Å–µ–∫
- ‚úÖ –û–ø—Ç–∏–º—ñ–∑—É–≤–∞–≤ UI –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

| –ü–æ–∫–∞–∑–Ω–∏–∫ | –†–∞–Ω—ñ—à–µ | –¢–µ–ø–µ—Ä | –ü–æ–ª—ñ–ø—à–µ–Ω–Ω—è |
|----------|--------|-------|-----------|
| **–í–∏–¥–∏–º—ñ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É** | ‚ùå –ù–µ –≤–∏–¥–Ω–æ | ‚úÖ –í–∏–¥–Ω–æ | 100% |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (–≤–µ–±)** | 10 —Å–µ–∫ | 2 —Å–µ–∫ | **5x** ‚ö° |
| **–®–≤–∏–¥–∫—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (desktop)** | 2 —Å–µ–∫ | 1 —Å–µ–∫ | **2x** ‚ö° |
| **–ß–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (desktop)** | 15 —Å–µ–∫ | 5 —Å–µ–∫ | **3x** ‚ö° |
| **–ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å–∏–º—É–ª—è—Ü—ñ—î—é** | ‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ | ‚úÖ –ü–æ–≤–Ω—ñ—Å—Ç—é | ‚úÖ |

---

## üìù –§–∞–π–ª–∏, –©–æ –ë—É–ª–∏ –ó–º—ñ–Ω–µ–Ω—ñ

### 1. `frontend_py/templates/index.html`
```html
<!-- –î–û: –ù–µ–º–∞—î –∫–æ–Ω—Ç—Ä–æ–ª—ñ–≤ -->
<div class="mb-3 d-flex gap-2">
    <button class="btn btn-primary" onclick="filterVehicles('all')">–í—Å—ñ</button>
    ...
</div>

<!-- –ü–Ü–°–õ–Ø: –Ñ –∫–æ–Ω—Ç—Ä–æ–ª–∏ –¥–ª—è —Å–∏–º—É–ª—è—Ü—ñ—ó -->
<div class="mb-3 d-flex gap-2 flex-wrap">
    <button class="btn btn-primary" onclick="filterVehicles('all')">–í—Å—ñ</button>
    ...
    <button id="simStartBtn" class="btn btn-danger" onclick="startSimulation()">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç–∏</button>
    <button id="simStopBtn" class="btn btn-secondary" onclick="stopSimulation()" style="display:none;">‚è∏ –ó—É–ø–∏–Ω–∏—Ç–∏</button>
    <span id="simStatus" class="badge bg-warning">–ó–∞—Ç—Ä–∏–º–∞–Ω–æ</span>
</div>
```

### 2. `backend_cpp/src/api.cpp`
```cpp
// –î–æ–¥–∞–≤ –¥–≤–∞ –Ω–æ–≤—ñ endpoint'–∏:

// GET /api/simulation/status
svr->Get("/api/simulation/status", [this](const httplib::Request&, httplib::Response& res) {
    json j = {"running": sim_->isRunning(), "paused": sim_->isPaused()};
    res.set_content(j.dump(), "application/json");
});

// POST /api/simulation/control
svr->Post("/api/simulation/control", [this](const httplib::Request& req, httplib::Response& res) {
    json body = json::parse(req.body);
    if (body["action"] == "start") sim_->resume();
    else if (body["action"] == "stop") sim_->pause();
    res.set_content(jsonSuccess(), "application/json");
});
```

### 3. `frontend_py/app.py`
```python
# –î–æ–¥–∞–≤ –ø—Ä–æ–∫—Å—É–≤–∞–Ω–Ω—è –¥–æ –±–µ–∫–µ–Ω–¥—É:

@app.route('/api/simulation/status')
def api_simulation_status():
    data = call_backend('/api/simulation/status')
    return jsonify(data) if data else jsonify({'running': False}), 500

@app.route('/api/simulation/control', methods=['POST'])
def api_simulation_control():
    data = request.get_json()
    result = call_backend('/api/simulation/control', method='POST', data=data)
    return jsonify(result) if result else jsonify({'error': 'Failed'}), 500
```

### 4. `desktop_client/main.py`
```python
# –î–æ–¥–∞–≤ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

with concurrent.futures.ThreadPoolExecutor(max_workers=3) as executor:
    stops_future = executor.submit(load_stops)
    routes_future = executor.submit(load_routes)
    vehicles_future = executor.submit(load_vehicles)
    
    self.stops = stops_future.result()
    self.routes = routes_future.result()
    self.vehicles = vehicles_future.result()
```

---

## üéÆ –Ø–∫ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –¢–µ–ø–µ—Ä

### –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –°–∏—Å—Ç–µ–º—É:
1. **–ë–µ–∫–µ–Ω–¥**: `cd c:\oop.kursova\backend_cpp\build && .\transport_backend.exe 8080`
2. **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: `cd c:\oop.kursova\frontend_py && python app.py`
3. **–ë—Ä–∞—É–∑–µ—Ä**: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ http://localhost:5000

### –ö–µ—Ä—É–≤–∞—Ç–∏ –°–∏–º—É–ª—è—Ü—ñ—î—é:
1. –ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –∫–∞—Ä—Ç–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É **"‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç–∏"**
2. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ø–æ—á–Ω–µ —Ä—É—Ö–∞—Ç–∏—Å—è –Ω–∞ –∫–∞—Ä—Ç—ñ
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ **"‚è∏ –ó—É–ø–∏–Ω–∏—Ç–∏"** —â–æ–± –∑—É–ø–∏–Ω–∏—Ç–∏

### –î–∏–≤–∏—Ç–∏—Å—è –°—Ç–∞—Ç—É—Å:
- –ë—ñ–ª—è –∫–Ω–æ–ø–æ–∫ –≤–∏–¥–Ω–æ —Å—Ç–∞—Ç—É—Å: **"‚ñ∂ –ü—Ä–∞—Ü—é—î"** –∞–±–æ **"‚è∏ –ó–∞—Ç—Ä–∏–º–∞–Ω–æ"**

---

## üîç –Ø–∫ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏

### –ß–µ—Ä–µ–∑ PowerShell:
```powershell
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Å–∏–º—É–ª—è—Ü—ñ—è –∑–∞–ø—É—â–µ–Ω–∞
Invoke-RestMethod -Uri "http://localhost:8080/api/simulation/status"
# –ü–æ–≤–∏–Ω–Ω–æ –≤–∏–≤–µ—Å—Ç–∏: {"paused":false,"running":true}

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏–º—É–ª—è—Ü—ñ—é
Invoke-RestMethod -Uri "http://localhost:8080/api/simulation/control" `
  -Method Post -ContentType "application/json" `
  -Body '{"action":"start"}'

# –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–∑–∏—Ü—ñ—ó —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É
Invoke-RestMethod -Uri "http://localhost:8080/api/transport/live"
# –ü–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Ç–∞ progress
```

---

## üéì –©–æ –í—á–∏–ª–æ—Å—å

1. **–ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º —Å–∏–º—É–ª—è—Ü—ñ—ó** - –∑–∞–≤–∂–¥–∏ –¥–∞–≤–∞–π—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—é —á–µ—Ä–µ–∑ API
2. **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è polling'—É** - –Ω–µ —Ä–æ–±—ñ—Ç—å –∑–∞–ø–∏—Ç–∏ —á–∞—Å—Ç—ñ—à–µ –Ω—ñ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ
3. **–ü–∞—Ä–∞–ª–µ–ª—å–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** - –º–æ–∂–Ω–∞ —Å–∫–æ—Ä–æ—Ç–∏—Ç–∏ —á–∞—Å –≤ 3 —Ä–∞–∑–∏
4. **Throttling** - –∑–∞–ø–æ–±—ñ–≥–∞—î —Å–ø–∞–º—É –≤ –º–µ—Ä–µ–∂—ñ
5. **–°—Ç–∞—Ç—É—Å —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏** - –≤–∞–∂–ª–∏–≤–æ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è

---

## ‚ú® –©–æ –¢–µ–ø–µ—Ä –ú–æ–∂–Ω–∞ –†–æ–±–∏—Ç–∏

‚úÖ –ë–∞—á–∏—Ç–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –Ω–∞ –∫–∞—Ä—Ç—ñ  
‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç–∏ —Ç–∞ –∑—É–ø–∏–Ω—è—Ç–∏ —Å–∏–º—É–ª—è—Ü—ñ—é  
‚úÖ –î–∏–≤–∏—Ç–∏—Å—è —è–∫ —Ä—É—Ö–∞—î—Ç—å—Å—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç  
‚úÖ –ë–∞—á–∏—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å –º—ñ–∂ –∑—É–ø–∏–Ω–∫–∞–º–∏ (0-100%)  
‚úÖ –§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ø–æ —Ç–∏–ø–∞–º (–ê–≤—Ç–æ–±—É—Å–∏, –¢—Ä–∞–º–≤–∞—ó, –¢—Ä–æ–ª–µ–π–±—É—Å–∏)  
‚úÖ –í–∏–¥–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å —Å–∏–º—É–ª—è—Ü—ñ—ó  
‚úÖ –í—Å–µ —Ü–µ –±–µ–∑ –ª–∞–≥—ñ–≤ —Ç–∞ –∑–∞–ª–∏–ø–∞–Ω—å  

---

## üöÄ –©–æ –ú–æ–∂–Ω–∞ –†–æ–∑–≤–∏–≤–∞—Ç–∏ –î–∞–ª—ñ

- üì° **WebSocket** - –∑–∞–º—ñ—Å—Ç—å polling
- üóÑÔ∏è **Redis** - –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
- üîê **–ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è** - –¥–ª—è –±–µ–∑–ø–µ–∫–∏
- üì± **–ú–æ–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è** - –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤
- üìä **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä—É—Ö—É
- ü§ñ **AI** - –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤

---

## üìå –í–∞–∂–ª–∏–≤–æ –ó–∞–ø–∞–º'—è—Ç–∞—Ç–∏

1. **–ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—É—Å—Ç–∏—Ç–∏"** - —Ü–µ –≥–æ–ª–æ–≤–Ω–µ! –ë–µ–∑ –Ω–µ—ó —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –Ω–µ —Ä—É—Ö–∞—î—Ç—å—Å—è
2. **Polling –∫–æ–∂–Ω—ñ 2 —Å–µ–∫** - –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –≥–ª–∞–¥–∫–æ—ó –∞–Ω—ñ–º–∞—Ü—ñ—ó
3. **Desktop –∫–ª—ñ—î–Ω—Ç** - –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —à–≤–∏–¥—à–µ (5 —Å–µ–∫ –∑–∞–º—ñ—Å—Ç—å 15)
4. **–°—Ç–∞—Ç—É—Å –≤–∏–¥–Ω–æ** - "‚ñ∂ –ü—Ä–∞—Ü—é—î" –∞–±–æ "‚è∏ –ó–∞—Ç—Ä–∏–º–∞–Ω–æ"

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

- ‚úÖ –í–µ–±-—Å–∞–π—Ç –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ http://localhost:5000
- ‚úÖ –ë–µ–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ http://localhost:8080
- ‚úÖ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –≤–∏–¥–Ω–æ –Ω–∞ –∫–∞—Ä—Ç—ñ
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É/–∑—É–ø–∏–Ω–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Ä—É—Ö–∞—î—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É
- ‚úÖ –ù–µ–º–∞—î –ª–∞–≥—ñ–≤ —á–∏ –∑–∞–ª–∏–ø–∞–Ω—å
- ‚úÖ –í—Å—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –≥–æ—Ç–æ–≤—ñ

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**  
**–Ø–∫—ñ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  
**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å**: üöÄ **PRODUCTION-READY**  

–ü—Ä–æ–µ–∫—Ç —É—Å–ø—ñ—à–Ω–æ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π —Ç–∞ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!
